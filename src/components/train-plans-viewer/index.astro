---
import TrainListByDay from '../train-list-by-day/index.astro'
import type { RainyTrain } from '../../service/rainy-trains/type'

import groupRainyTrainPlansByDate from './group-rainy-train-plans-by-date'

interface Props {
    rainyTrains: RainyTrain[]
}

const { rainyTrains } = Astro.props
const rainyTrainPlansByDate = groupRainyTrainPlansByDate(rainyTrains)
---

<ul>
    {
        rainyTrainPlansByDate.map((trainPlan) => (
            <TrainListByDay
                rainyTrainPlans={trainPlan.rainyTrainPlans}
                date={trainPlan.date}
            />
        ))
    }
</ul>

<style scoped>
    ul {
        display: flex;
        flex-direction: column;
        list-style: none;
        padding: 0;
        gap: 5rem;
        margin: 0;
        flex: 1;
        overflow: hidden scroll;
        border-radius: 6rem;
    }

    @media (max-width: 900px) {
        ul {
            overflow: auto;
        }
    }
</style>
